<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Kakao 지도 시작하기</title>
	<script src="key.js"></script>
	<!-- <script src="http://dapi.kakao.com/v2/maps/sdk.js?appkey=98347b1534264c0847605ea2e18d5220"></script> -->
	<script>
		window.onload = () => {
			document.getElementById('api').innerHTML = kakaoApiKey;
			
			// Dynamically create the Kakao Maps script
			const kakaoScript = document.createElement('script');
            kakaoScript.src = `http://dapi.kakao.com/v2/maps/sdk.js?appkey=${kakaoApiKey}&autoload=false`;
            kakaoScript.onload = () => {
                // Initialize Kakao Maps after the script is loaded
                kakao.maps.load(() => {
                    initializeMap();
                });
            };
            kakaoScript.onerror = () => {
                console.error('Failed to load Kakao Maps SDK');
            };
            document.head.appendChild(kakaoScript);
		}

		function initializeMap() {
			let container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
			let options = { //지도를 생성할 때 필요한 기본 옵션
				center: new kakao.maps.LatLng(33.450701, 126.570667), //지도의 중심좌표.
				level: 3 //지도의 레벨(확대, 축소 정도)
			};

			let map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
		}
	</script>
</head>
<body style="margin: 40px;">
	<h1 id="api"></h1>
	<div id="map" style="width:600px;height:400px;"></div>
</body>
</html>